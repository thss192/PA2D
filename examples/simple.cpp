// PA2D 基础示例 - 展示基本绘图功能和链式调用语法
// 版本：1.0.0.beta1 配套示例

#include <pa2d.h>
using namespace pa2d;

int main() {
    // ==================== 窗口和画布初始化 ====================
    // 创建600x400像素的窗口，标题支持中文字符
    Window window(600, 400, "你好，PA2D!");
    window.show();  // 显示窗口（默认创建时不显示）

    // 创建相同尺寸的画布，用于离屏绘制
    Canvas canvas(600, 400);

    // ==================== 样式定义 ====================
    // 创建一个半透明蓝色填充 + 3像素线宽的复合样式
    // 0x800000FF = ARGB格式：0x80(半透明), 0x00, 0x00, 0xFF(蓝色)
    Style style = 0x800000FF_fill + 3_w;

    // ==================== 图形绘制（链式调用） ====================
    canvas.circle(100, 100, 60, Green_stroke + style)      // 1. 绘制圆形（绿色描边+蓝填充）
        .rect(100, 100, 120, 80,                           // 2. 绘制矩形
            0x80FF0000_stroke + 25.0_r + style)            //    半透明红色描边+25像素圆角+蓝填充
        .text(50, 50, "你好，PA2D!",                       // 3. 渲染文本（支持中文）
            60, 0x80000000);                               //    60像素大小，半透明黑色

    // ==================== 渲染与窗口控制 ====================
    // 将画布内容渲染到窗口，并等待窗口关闭
    // render()返回Window&，支持链式调用
    window.render(canvas)      // 渲染画布内容到窗口
        .waitForClose();       // 阻塞直到用户关闭窗口

    return 0;
}

// 示例说明：
// 1. 样式组合：
//    - 使用字面量操作符：_fill(填充), _stroke(描边), _w(线宽), _r(圆角半径)
//    - 样式可以通过加号(+)组合，形成复合样式
//    - 支持ARGB颜色格式，包含透明度通道
//
// 2. 链式调用：
//    - Canvas的绘图方法返回Canvas&，支持连续调用
//    - Window的操作方法返回Window&，同样支持链式调用
//
// 3. 透明度效果：
//    - 0x80 = 约50%透明度 (0x00=完全透明, 0xFF=完全不透明)
//    - 填充和描边都可以设置透明度
//
// 运行效果：
// 1. 一个半透明蓝色填充、绿色描边的圆形
// 2. 一个具有25像素圆角的矩形，半透明蓝色填充、半透明红色描边
// 3. "你好，PA2D!"大字标题
// 4. 所有图形都具有透明度叠加效果
